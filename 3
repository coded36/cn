#include <stdio.h>
#define INF 99
#define MAX 20
struct Router {
 int dist[MAX];
 int next[MAX];
} table[MAX];
int cost[MAX][MAX], n;
void distanceVector() {
 int i, j, k, updated;
 // Initialize distance and next-hop tables
 for (i = 0; i < n; i++) {
 for (j = 0; j < n; j++) {
 table[i].dist[j] = cost[i][j];
 table[i].next[j] = j;
 }
 }
 // Bellman-Ford-like update until convergence
 do {
 updated = 0;
 for (i = 0; i < n; i++) {
 for (j = 0; j < n; j++) {
 for (k = 0; k < n; k++) {
 if (table[i].dist[j] > cost[i][k] + table[k].dist[j]) {
 table[i].dist[j] = cost[i][k] + table[k].dist[j];
 table[i].next[j] = k;
 updated = 1;
 }
 }
 }
 }
 } while (updated);
}
int main() {
 int i, j;
 printf("\nEnter number of routers: ");
 scanf("%d", &n);
 printf("Enter the cost matrix (use 99 for infinity):\n");
 for (i = 0; i < n; i++)
 for (j = 0; j < n; j++)
 scanf("%d", &cost[i][j]);
 distanceVector();
 for (i = 0; i < n; i++) {
 printf("\nRouting Table for Router %c\n", i + 65);
 printf("Destination\tNext Hop\tDistance\n");
 for (j = 0; j < n; j++) {
 if (table[i].dist[j] == INF)
 printf("%c\t\t-\t\tâˆž\n", j + 65);
 else
 printf("%c\t\t%c\t\t%d\n", j + 65, table[i].next[j] + 65,
table[i].dist[j]);
 }
 }
 return 0;
}
