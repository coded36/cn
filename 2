#include <stdio.h>
#include <string.h>
char data[100], frame[120];
char divisor[18] = "10001000000100001";
char rem[17];
void compute_crc(char *input, char *crc) {
 char temp[120];
 strcpy(temp, input);
 for (int i = 0; i < strlen(input) - 16; i++) {
 if (temp[i] == '1') {
 for (int j = 0; j < 17; j++)
 temp[i + j] = (temp[i + j] == divisor[j]) ? '0' : '1';
 }
 }
 strncpy(crc, temp + strlen(input) - 16, 16);
 crc[16] = '\0';
}
int main() {
 char crc[17], recv_crc[17];
 printf("\n--- CRC ERROR DETECTION ---\n");
 printf("Enter binary data to send: ");
 scanf("%s", data);
 char encoded[120];
 strcpy(encoded, data);
 strcat(encoded, "0000000000000000"); // append 16 zeros
 compute_crc(encoded, crc);
 printf("\nCRC: %s", crc);
 strcat(data, crc);
 printf("\nTransmitted Frame: %s\n", data);
 printf("\nEnter received frame: ");
 scanf("%s", frame);
 compute_crc(frame, recv_crc);
 if (strspn(recv_crc, "0") == 16)
 printf("\n Frame received is error-free.\n");
 else
 printf("\n Frame contains errors.\n");
 return 0;}
