Sender
#include <sys/socket.h>
#include <sys/types.h>
#include <netinet/in.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
int main() {
 int sock, connected;
 struct sockaddr_in server_addr, client_addr;
 socklen_t sin_size;
 char frame[1024], ack[1024];
 int i = 1;
 sock = socket(AF_INET, SOCK_STREAM, 0);
 if (sock < 0) {
 perror("Socket creation failed");
 exit(1);
 }
 server_addr.sin_family = AF_INET;
 server_addr.sin_port = htons(17000);
 server_addr.sin_addr.s_addr = INADDR_ANY;
 memset(&(server_addr.sin_zero), 0, 8);
 if (bind(sock, (struct sockaddr *)&server_addr, sizeof(struct
sockaddr)) < 0) {
 perror("Bind failed");
 exit(1);
 }
 if (listen(sock, 5) < 0) {
 perror("Listen failed");
 exit(1);
 }
 printf("Sender: Waiting for receiver...\n");
 sin_size = sizeof(struct sockaddr_in);
 connected = accept(sock, (struct sockaddr *)&client_addr,
&sin_size);
 if (connected < 0) {
 perror("Accept failed");
 exit(1);
 }
 while (1) {
 printf("Enter Data Frame %d (or 'exit' to quit): ", i);
 scanf("%s", frame);
 send(connected, frame, strlen(frame), 0);
 if (strcmp(frame, "exit") == 0)
 break;
 memset(ack, 0, sizeof(ack));
 recv(connected, ack, sizeof(ack), 0);
 printf("Ack received: %s\n", ack);
 i++;
 }
 close(connected);
 close(sock);
 return 0;
}
Receiver
#include <sys/socket.h>
#include <sys/types.h>
#include <netinet/in.h>
#include <netdb.h>
#include <stdio.h>
#include <string.h>
#include <stdlib.h>
#include <unistd.h>
int main() {
 int sock, bytes_received, i = 1;
 char frame[1024];
 struct hostent *host;
 struct sockaddr_in server_addr;
 host = gethostbyname("127.0.0.1");
 if (!host) {
 perror("Host not found");
 exit(1);
 }
 sock = socket(AF_INET, SOCK_STREAM, 0);
 if (sock < 0) {
 perror("Socket creation failed");
 exit(1);
 }
 server_addr.sin_family = AF_INET;
 server_addr.sin_port = htons(17000);
 server_addr.sin_addr = *((struct in_addr *)host->h_addr);
 memset(&(server_addr.sin_zero), 0, 8);
 if (connect(sock, (struct sockaddr *)&server_addr, sizeof(struct
sockaddr)) < 0) {
 perror("Connection failed");
 exit(1);
 }
 printf("Receiver connected to sender.\n");
 while (1) {
 memset(frame, 0, sizeof(frame));
 bytes_received = recv(sock, frame, sizeof(frame), 0);
 frame[bytes_received] = '\0';
 if (strcmp(frame, "exit") == 0)
 break;
 printf("Frame %d received: %s\n", i, frame);
 send(sock, "ACK", 3, 0);
 i++;
 }
 close(sock);
 return 0;
}
